INVENTORY TABLE:-
CREATE TABLE Inventory (
    SKUNumber VARCHAR(50) PRIMARY KEY,
    ISBN VARCHAR(13) NOT NULL CHECK (CHAR_LENGTH(ISBN) = 10 OR CHAR_LENGTH(ISBN) = 13),
    Status VARCHAR(100) NOT NULL CHECK (
        Status IN ('Shelved', 'Unshelved', 'Missing', 'Damaged', 'Borrowed', 'Lost')
    ),
    BorrowedBy VARCHAR(255),
    Category VARCHAR(100) CHECK (Category != ''),
    BayNumber INT CHECK (BayNumber >= 0),
    ShelfNumber INT CHECK (ShelfNumber >= 0),
    RowNumber INT CHECK (RowNumber >= 0),
    ColumnNumber INT CHECK (ColumnNumber >= 0),
    AddedOn DATETIME DEFAULT CURRENT_TIMESTAMP,
    UpdatedOn DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

BOOKS TABLE:-
CREATE TABLE Books (
    BookNumber INT NOT NULL UNIQUE AUTO_INCREMENT,
    ISBN VARCHAR(13) PRIMARY KEY CHECK (CHAR_LENGTH(ISBN) = 10 OR CHAR_LENGTH(ISBN) = 13),
    Title VARCHAR(255) NOT NULL,
    Description TEXT,
    Author VARCHAR(100) NOT NULL,
    Publication VARCHAR(100) NOT NULL,
    Genre VARCHAR(100) NOT NULL,
    Language VARCHAR(50) NOT NULL,
    DateAdded DATETIME DEFAULT CURRENT_TIMESTAMP,
    LastUpdatedOn DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

MEMBERS TABLE:-
CREATE TABLE Members (
    MemberNumber INT NOT NULL UNIQUE AUTO_INCREMENT,
    EmailID VARCHAR(255) PRIMARY KEY,
    FullName VARCHAR(100) NOT NULL,
    Password VARCHAR(255) NOT NULL,
    MobileNumber CHAR(10) CHECK (
        MobileNumber BETWEEN '1000000000' AND '9999999999'
    ),       
    WishlistedBooks TEXT,       
    Points INT DEFAULT 0 CHECK (Points >= 0),
    BooksHistory TEXT,         
    Fines DECIMAL(10,2) DEFAULT 0.00 CHECK (Fines >= 0),
    DateOfJoining DATETIME DEFAULT CURRENT_TIMESTAMP,
    LastLoginOn DATETIME DEFAULT NULL,
    LastUpdatedOn DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

LIBRARIAN TABLE:-
CREATE TABLE Librarian (
    LibrarianNumber INT NOT NULL UNIQUE AUTO_INCREMENT,
    EmailID VARCHAR(255) PRIMARY KEY,
    FullName VARCHAR(100) NOT NULL,
    Password VARCHAR(255) NOT NULL,
    MobileNumber CHAR(10) UNIQUE CHECK (
        MobileNumber BETWEEN '1000000000' AND '9999999999'
    ),
    DateOfJoining DATETIME DEFAULT CURRENT_TIMESTAMP,
    LastLoginOn DATETIME DEFAULT NULL,
    LastUpdatedOn DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

REVIEWS TABLE:-
CREATE TABLE Reviews (
    ReviewID INT NOT NULL UNIQUE AUTO_INCREMENT,
    ISBN VARCHAR(13) PRIMARY KEY,
    ReviewerName VARCHAR(100) NOT NULL,
    ReviewerEmail VARCHAR(255) NOT NULL,
    Rating INT NOT NULL CHECK (Rating BETWEEN 1 AND 5),
    Review TEXT NOT NULL,
    ReviewedOn DATETIME DEFAULT CURRENT_TIMESTAMP,
    UpdatedOn DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

BOOKS RECORD:-
CREATE TABLE BooksRecord (
    RecordNumber INT NOT NULL AUTO_INCREMENT UNIQUE,
    SKU VARCHAR(50) PRIMARY KEY,
    Status ENUM('Borrowed', 'Returned', 'Lost') NOT NULL,
    ISBN VARCHAR(13) NOT NULL,
    Email VARCHAR(255),
    FullName VARCHAR(100),
    Points INT DEFAULT 0 CHECK (Points >= 0),
    DaysBorrowed INT DEFAULT 0 CHECK (DaysBorrowed >= 0),
    DaysLate INT DEFAULT 0 CHECK (DaysLate >= 0),
    Fine DECIMAL(10,2) DEFAULT 0.00 CHECK (Fine >= 0),
    DueOn DATE,
    ReturnedOn DATE,
    UpdatedOn DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    CreatedOn DATETIME DEFAULT CURRENT_TIMESTAMP
);
